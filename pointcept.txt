0.å®‰è£…condaç¯å¢ƒ

1. æ‹‰å–æ”¯æŒ 5090 çš„å®˜æ–¹é•œåƒ  æƒé™æ‹¦è·¯è™ï¼ğŸ¯
æˆ‘ä»¬éœ€è¦ 25.01 æˆ–æ›´æ–°çš„ç‰ˆæœ¬ï¼ˆé€šå¸¸ 1 æœˆå‘å¸ƒçš„é•œåƒå¼€å§‹æ”¯æŒ 5090ï¼‰ã€‚
# æ‹‰å– NVIDIA PyTorch é•œåƒ (å†…å« CUDA 12.8+, PyTorch 2.5+, ä¸”é’ˆå¯¹ Blackwell ä¼˜åŒ–)
sudo docker pull nvcr.io/nvidia/pytorch:25.01-py3

2. å¯åŠ¨å®¹å™¨ (æŒ‚è½½ä½ çš„ä»£ç ç›®å½•)
å‡è®¾ä½ åœ¨ ~/blz ç›®å½•ä¸‹ï¼š

# --gpus all: å¯ç”¨æ˜¾å¡
# --ipc=host: é˜²æ­¢å¤šå¡è®­ç»ƒæ—¶å†…å­˜ä¸è¶³ (Pointcept å¿…é¡»)
# -v: å°†å½“å‰ç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…çš„ /workspace
docker run --gpus all -it --rm --ipc=host -v $(pwd):/workspace nvcr.io/nvidia/pytorch:25.01-py3

# å¯åŠ¨å®¹å™¨å¹¶æŒ‚è½½å½“å‰ç›®å½•
sudo docker run --gpus all -it --rm --ipc=host -v $(pwd):/workspace nvcr.io/nvidia/pytorch:25.01-py3
# è¿›å…¥å®¹å™¨åï¼Œç›´æ¥è¿è¡Œ Python éªŒè¯
python -c "import torch; print(f'CUDA: {torch.version.cuda}'); print(f'Device: {torch.cuda.get_device_name(0)}'); a = torch.randn(1000).cuda(); print('Success! 5090 is READY.')"

exit é€€å‡º sudo docker exec -it bole_lab bash è¿›å…¥

# é€€å‡ºå½“å‰å®¹å™¨
exit

# æŒ‚è½½æ–‡ä»¶åˆ°docker
# åˆ é™¤æ—§çš„å®¹å™¨
sudo docker rm -f bole_lab_ptv3
# ptv3
sudo docker run --gpus all -it \
  --name bole_lab_ptv3 \
  --shm-size=32g \
  -v /home/bolezhang/blz/Pointcept:/workspace/Pointcept \
  -v /data/datasets:/data/datasets \
  ptv3_gpu_image /bin/bash
# æˆ‘çš„
sudo docker run --gpus all -it \
  --name bole_lab_final \
  --shm-size=32g \
  -v /home/bolezhang/blz/SuperPointcept:/workspace/SuperPointcept \
  -v /data/datasets:/data/datasets \
  ptv3_gpu_image /bin/bash
# å¦‚æœè¢«å…³æœº
sudo docker start -ai bole_lab_final
# è¿›å…¥
sudo docker exec -it bole_lab_final bash

5.å¦‚æœ‰å¿…è¦ æ£€æŸ¥ï¼š

python -c 'import pointops; print("PointOps is ready")'

python -c "import torch; print(f'Torch: {torch.__version__}, CUDA: {torch.version.cuda}')"


è®­ç»ƒï¼š

export CUDA_LAUNCH_BLOCKING=1

sh scripts/train.sh -g 1 -d stpls3d -c semseg-pt-v3m1-0-base -n exp_stpls3d_5090 -w model_best
sh scripts/train.sh -g 1 -d sensaturban -c semseg-pt-v3m1-0-base -n SensatUrban-PTV3-BaseÂ -w model_best

æ–°çš„è®­ç»ƒè„šæœ¬ï¼š

sh scripts/train.sh -g 1 -d stpls3d -c semseg-pt-v3m1-0-base-6cls-focal -n exp_stpls3d_5090_6cls_focal
sh scripts/train.sh -g 1 -d sensaturban -c semseg-pt-v3m1-0-base-focal -n exp_sensaturban_5090_focal

æ–°æ–°çš„ï¼š

sh scripts/train.sh -g 1 -d sensaturban -c semseg-pt-v3m1-0-base -n exp_sensaturban_5090_plus

tumxç¬”è®°
tmux new -s ptv3_train
å…ˆæŒ‰ Ctrl + bï¼Œç„¶åæŒ‰ d (Detach)
tmux attach -t ptv3_train

åŠŸèƒ½,å¿«æ·é”® (Prefix + ...)
æ°´å¹³åˆ†å± (Split Horizontal),""""
å‚ç›´åˆ†å± (Split Vertical),%
å…³é—­å½“å‰ Pane,x
åˆ‡æ¢ Pane,æ–¹å‘é”® â†‘ â†“ â† â†’
åˆ›å»ºæ–°çª—å£ (New Window),c
åˆ‡æ¢çª—å£ (Next Window),n